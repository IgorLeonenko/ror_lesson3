$('.posts').html("<%= escape_javascript(render partial: 'user_post', collection: @user_posts) %>");
$('.favorite-posts').html("<%= escape_javascript(render partial: 'user_favorite_post', collection: @user_favorite_posts) %>");

<% if params[:all_posts].present? && @user.posts.size > 5 %>
  $('.posts-link').html("<a class='fa fa-eye-slash btn btn-sm btn-info' data-remote='true' href='/users/profile/<%=@user.name%>'> hide</a>");
<% elsif params[:all_posts].blank? && @user.posts.size > 5 %>
  $('.posts-link').html("<a class='fa fa-eye btn btn-sm btn-info' data-remote='true' href='/users/profile/<%=@user.name%>?all_posts=true'> show all</a>");
<% end %>

<% if params[:all_favorites].present? && @user.favorites.size > 5 %>
  $('.favorite-posts-link').html("<a class='fa fa-eye-slash btn btn-sm btn-info' data-remote='true' href='/users/profile/<%=@user.name%>'> hide</a>");
<% elsif params[:all_favorites].blank? && @user.favorites.size > 5 %>
  $('.favorite-posts-link').html("<a class='fa fa-eye btn btn-sm btn-info' data-remote='true' href='/users/profile/<%=@user.name%>?all_favorites=true'> show all</a>");
<% end %>